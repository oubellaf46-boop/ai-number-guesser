<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>motivate & save · fatima zahra oubella</title>
    <!-- Font Awesome 6 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Google Font: Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:opsz,wght@14..32,300;14..32,400;14..32,500;14..32,600;14..32,700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: #ffffff;
            color: #1e2f2b;
            line-height: 1.5;
            min-height: 100vh;
            position: relative;
        }

        /* Background money icons */
        .bg-icon {
            position: fixed;
            color: rgba(0, 0, 0, 0.03);
            font-size: 5rem;
            z-index: 0;
            pointer-events: none;
            animation: float 20s infinite ease-in-out;
        }

        @keyframes float {
            0% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-30px) rotate(5deg); }
            100% { transform: translateY(0px) rotate(0deg); }
        }

        .bg-icon-1 { top: 5%; left: 3%; }
        .bg-icon-2 { bottom: 10%; right: 2%; font-size: 7rem; }
        .bg-icon-3 { top: 20%; right: 10%; font-size: 4rem; }

        /* Screens */
        .screen {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 1.8rem;
            position: relative;
            z-index: 5;
        }

        .hidden {
            display: none !important;
        }

        .container {
            max-width: 1200px;
            width: 100%;
        }

        /* Glass panels */
        .glass-panel {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(8px);
            border: 1px solid rgba(26, 26, 26, 0.2);
            border-radius: 3rem;
            box-shadow: 0 15px 40px -10px rgba(0, 0, 0, 0.2);
            padding: 3rem;
        }

        .glass-card {
            background: rgba(255, 255, 255, 0.95);
            border: 1px solid rgba(26, 26, 26, 0.15);
            border-radius: 2.5rem;
            padding: 2rem;
            transition: all 0.3s ease;
        }

        /* Buttons */
        button, .btn {
            background: #1a1a1a;
            color: white;
            font-weight: 600;
            padding: 0.9rem 2rem;
            border-radius: 3rem;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid #d4b978;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        button:hover {
            background: #333333;
            transform: translateY(-3px) scale(1.05);
            border-color: #e4ca8f;
        }

        .gold-btn {
            background: #d4b978;
            color: #1a1a1a;
            border: 2px solid #1a1a1a;
        }

        .gold-btn:hover {
            background: #e4ca8f;
        }

        /* Inputs */
        input, select {
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 3rem;
            padding: 0.9rem 1.5rem;
            width: 100%;
            margin-bottom: 1rem;
        }

        input:focus {
            border-color: #d4b978;
            box-shadow: 0 0 0 5px rgba(212, 185, 120, 0.2);
        }

        label {
            font-weight: 600;
            color: #1a1a1a;
            margin-bottom: 0.3rem;
            display: block;
        }

        /* Profile header */
        .profile-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 4rem;
            padding: 0.7rem 2rem;
            border: 2px solid #1a1a1a;
            margin-bottom: 2rem;
        }

        .motivation-badge {
            background: #1a1a1a;
            color: #d4b978;
            border-radius: 3rem;
            padding: 0.5rem 1.8rem;
            border-left: 6px solid #d4b978;
            display: inline-block;
            margin-bottom: 2rem;
        }

        .money-counter {
            font-size: 2rem;
            font-weight: 700;
            color: #d4b978;
            text-align: center;
            padding: 1rem;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        h1 { font-size: 4rem; color: #1a1a1a; }
        h1 span { color: #d4b978; }

        .email-link {
            color: #1a1a1a;
            text-decoration: none;
            border-bottom: 2px dashed #d4b978;
        }

        .linkedin-badge {
            background: #1a1a1a;
            padding: 0.4rem 1.2rem;
            border-radius: 3rem;
            color: #d4b978;
            text-decoration: none;
            border: 2px solid #d4b978;
        }

        /* Table styles */
        .goal-progress {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 2rem;
            overflow: hidden;
            margin-top: 1rem;
        }

        .goal-progress th {
            background: #1a1a1a;
            color: #d4b978;
            padding: 1rem;
            text-align: left;
        }

        .goal-progress td {
            padding: 1rem;
            border-bottom: 2px solid #1a1a1a;
        }

        .money {
            color: #d4b978;
            font-weight: 700;
        }

        .repository-grid {
            max-height: 200px;
            overflow-y: auto;
            margin: 1rem 0;
        }

        .repo-item {
            background: #f9fbf5;
            border: 2px solid #1a1a1a;
            border-radius: 3rem;
            padding: 0.8rem 1.5rem;
            margin-bottom: 0.5rem;
            display: flex;
            justify-content: space-between;
        }

        .success-message {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #1a1a1a;
            color: #d4b978;
            padding: 1rem 2rem;
            border-radius: 3rem;
            border: 2px solid #d4b978;
            z-index: 1000;
            display: none;
        }
    </style>
</head>
<body>
    <!-- Background Icons -->
    <i class="fas fa-dollar-sign bg-icon bg-icon-1"></i>
    <i class="fas fa-coins bg-icon bg-icon-2"></i>
    <i class="fas fa-piggy-bank bg-icon bg-icon-3"></i>

    <!-- Success Message -->
    <div id="actionMessage" class="success-message"></div>

    <!-- ========== WELCOME SCREEN ========== -->
    <section id="welcomeScreen" class="screen">
        <div class="container">
            <div class="profile-header">
                <div>
                    <i class="fas fa-leaf" style="color:#d4b978;"></i>
                    <strong>Fatima Zahra Oubella</strong>
                    <a href="mailto:fatimazahra.oubella@etu.uae.ac.ma" class="email-link"> email me</a>
                </div>
                <a href="https://www.linkedin.com/in/fatima-oubella-7a48443b1" class="linkedin-badge"> LinkedIn</a>
            </div>

            <div class="glass-panel">
                <span class="motivation-badge"><i class="fas fa-bolt"></i> daily motivation</span>
                <h1>MOTIVATE & <span>SAVE</span></h1>
                <div class="money-counter" id="welcomeMoneyCounter">$0 → $10,000</div>
                <p style="font-size: 1.3rem; margin: 1.5rem 0;">Every dollar you save brings your future closer. Start your journey today.</p>
                <button id="enterToLoginBtn" class="btn" style="font-size:1.2rem;"><i class="fas fa-rocket"></i> take action now</button>
            </div>
        </div>
    </section>

    <!-- ========== LOGIN SCREEN ========== -->
    <section id="loginScreen" class="screen hidden">
        <div class="container" style="max-width: 500px;">
            <div class="glass-panel">
                <h2><i class="fas fa-lock-open" style="color:#d4b978;"></i> sign in</h2>
                <div style="height:2px; background:#d4b978; width:80px; margin:1rem 0;"></div>
                
                <label>username</label>
                <input type="text" id="loginUsername" placeholder="your username" value="savings_user">
                
                <label>password</label>
                <input type="password" id="loginPassword" placeholder="••••••••" value="demo123">
                
                <button id="loginBtn" class="gold-btn" style="width:100%; margin-top:1rem;"><i class="fas fa-arrow-right-to-bracket"></i> login</button>
            </div>
        </div>
    </section>

    <!-- ========== QUESTIONNAIRE SCREEN ========== -->
    <section id="questionScreen" class="screen hidden">
        <div class="container" style="max-width: 700px;">
            <div class="profile-header">
                <div>
                    <i class="fas fa-user-check"></i>
                    <span id="questUsernameDisplay">User</span>
                </div>
            </div>
            <div class="glass-panel">
                <h2>your <span style="color:#d4b978;">action plan</span></h2>
                
                <label>monthly income (USD)</label>
                <input type="number" id="questIncome" value="4200">
                
                <label>marital status</label>
                <select id="questMarital">
                    <option value="single">single</option>
                    <option value="married" selected>married</option>
                </select>
                
                <label>student?</label>
                <select id="questStudent">
                    <option value="no">no</option>
                    <option value="yes">yes</option>
                </select>
                
                <label>future goal</label>
                <input type="text" id="questGoal" value="travel fund">
                
                <button id="generateTableBtn" class="btn" style="width:100%; margin-top:1rem;">generate my savings table</button>
            </div>
        </div>
    </section>

    <!-- ========== DASHBOARD SCREEN ========== -->
    <section id="dashboardScreen" class="screen hidden">
        <div class="container">
            <div class="profile-header">
                <div>
                    <i class="fas fa-trophy" style="color:#d4b978;"></i>
                    <span id="dashUsername">User</span>
                </div>
                <button id="logoutBtn" style="padding:0.4rem 1.2rem;">logout</button>
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;">
                <div class="glass-card">
                    <h3>your repository</h3>
                    <div id="repositoryList" class="repository-grid"></div>
                    <button id="saveCurrentTableBtn" class="gold-btn" style="width:100%;">save current table</button>
                </div>
                
                <div class="glass-card">
                    <h3>profile settings</h3>
                    <label>display name</label>
                    <input type="text" id="settingsName" value="User">
                    <button id="updateSettingsBtn" style="width:100%; margin-top:1rem;">update name</button>
                </div>
            </div>

            <div class="glass-card" style="margin-top:2rem;">
                <h3>your daily savings (USD)</h3>
                <table class="goal-progress">
                    <thead><tr><th>day</th><th>amount</th></tr></thead>
                    <tbody id="savingsTableBody"></tbody>
                </table>
                <p id="tableFootnote" style="margin-top:1rem;"></p>
                <button id="exportTableBtn" style="margin-top:1rem; background:white; color:#1a1a1a; border:2px solid #1a1a1a;">export table</button>
            </div>
        </div>
    </section>

    <script>
        // ========== FIXED JAVASCRIPT ==========
        
        // Make sure DOM is fully loaded before running
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM loaded - starting app');
            
            // Get all screen elements
            const welcomeScreen = document.getElementById('welcomeScreen');
            const loginScreen = document.getElementById('loginScreen');
            const questionScreen = document.getElementById('questionScreen');
            const dashboardScreen = document.getElementById('dashboardScreen');
            const actionMessage = document.getElementById('actionMessage');
            
            // State
            let isLoggedIn = false;
            let currentUser = 'User';
            let savedTables = [];
            let currentRows = [];
            
            // Show message function
            function showMessage(msg, isSuccess = true) {
                actionMessage.style.display = 'block';
                actionMessage.textContent = msg;
                actionMessage.style.background = isSuccess ? '#1a1a1a' : '#dc3545';
                setTimeout(() => {
                    actionMessage.style.display = 'none';
                }, 2000);
            }
            
            // Welcome money counter animation
            function animateCounter() {
                const counter = document.getElementById('welcomeMoneyCounter');
                if (!counter) return;
                let val = 0;
                const interval = setInterval(() => {
                    val += 100;
                    if (val >= 10000) {
                        val = 10000;
                        clearInterval(interval);
                    }
                    counter.textContent = `$${val} → $10,000`;
                }, 50);
            }
            animateCounter();
            
            // ===== FIXED BUTTON EVENT LISTENERS =====
            
            // 1. TAKE ACTION BUTTON - This is your main problem fix
            const takeActionBtn = document.getElementById('enterToLoginBtn');
            if (takeActionBtn) {
                console.log('Take action button found');
                takeActionBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    console.log('Take action clicked - switching to login');
                    
                    // Hide welcome screen
                    welcomeScreen.classList.add('hidden');
                    
                    // Show login screen
                    loginScreen.classList.remove('hidden');
                    
                    showMessage('Please login to continue');
                });
            } else {
                console.error('Take action button NOT found!');
            }
            
            // 2. LOGIN BUTTON
            const loginBtn = document.getElementById('loginBtn');
            if (loginBtn) {
                loginBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    const username = document.getElementById('loginUsername').value || 'User';
                    currentUser = username;
                    
                    // Update username displays
                    document.getElementById('questUsernameDisplay').textContent = username;
                    document.getElementById('dashUsername').textContent = username;
                    document.getElementById('settingsName').value = username;
                    
                    isLoggedIn = true;
                    
                    // Hide login, show questionnaire
                    loginScreen.classList.add('hidden');
                    questionScreen.classList.remove('hidden');
                    
                    showMessage(`Welcome ${username}!`);
                });
            }
            
            // 3. GENERATE TABLE BUTTON
            const generateBtn = document.getElementById('generateTableBtn');
            if (generateBtn) {
                generateBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    const income = parseFloat(document.getElementById('questIncome').value) || 4000;
                    const marital = document.getElementById('questMarital').value;
                    const student = document.getElementById('questStudent').value;
                    
                    // Calculate daily savings
                    let rate = 0.15;
                    if (student === 'yes') rate = 0.08;
                    if (marital === 'married') rate = 0.12;
                    
                    const dailyAmount = Math.round((income * rate) / 30);
                    
                    // Generate 7 days
                    currentRows = [];
                    for (let i = 1; i <= 7; i++) {
                        currentRows.push({
                            day: `Day ${i}`,
                            amount: dailyAmount + (i % 3 === 0 ? 5 : 0)
                        });
                    }
                    
                    // Display table
                    const tbody = document.getElementById('savingsTableBody');
                    tbody.innerHTML = currentRows.map(r => 
                        `<tr><td>${r.day}</td><td class="money">$${r.amount}</td></tr>`
                    ).join('');
                    
                    document.getElementById('tableFootnote').innerHTML = `Goal: ${document.getElementById('questGoal').value}`;
                    
                    // Switch to dashboard
                    questionScreen.classList.add('hidden');
                    dashboardScreen.classList.remove('hidden');
                    
                    // Update repository display
                    updateRepository();
                    
                    showMessage('Your savings table is ready!');
                });
            }
            
            // 4. SAVE TABLE BUTTON
            const saveBtn = document.getElementById('saveCurrentTableBtn');
            if (saveBtn) {
                saveBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    if (currentRows.length === 0) {
                        showMessage('No table to save!', false);
                        return;
                    }
                    
                    const name = prompt('Name your table:', `Week ${savedTables.length + 1}`);
                    if (!name) return;
                    
                    savedTables.push({
                        id: Date.now(),
                        name: name,
                        rows: [...currentRows]
                    });
                    
                    updateRepository();
                    showMessage(`Saved: ${name}`);
                });
            }
            
            // Update repository display
            function updateRepository() {
                const repoDiv = document.getElementById('repositoryList');
                if (savedTables.length === 0) {
                    repoDiv.innerHTML = '<p>No saved tables yet</p>';
                    return;
                }
                
                repoDiv.innerHTML = savedTables.map(t => `
                    <div class="repo-item">
                        <span>${t.name}</span>
                        <button onclick="loadTable(${t.id})" style="padding:0.3rem 1rem;">load</button>
                    </div>
                `).join('');
            }
            
            // Load table function (make it global)
            window.loadTable = function(id) {
                const table = savedTables.find(t => t.id === id);
                if (table) {
                    currentRows = table.rows;
                    const tbody = document.getElementById('savingsTableBody');
                    tbody.innerHTML = currentRows.map(r => 
                        `<tr><td>${r.day}</td><td class="money">$${r.amount}</td></tr>`
                    ).join('');
                    showMessage(`Loaded: ${table.name}`);
                }
            };
            
            // 5. UPDATE SETTINGS BUTTON
            const settingsBtn = document.getElementById('updateSettingsBtn');
            if (settingsBtn) {
                settingsBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    const newName = document.getElementById('settingsName').value;
                    if (newName) {
                        currentUser = newName;
                        document.getElementById('dashUsername').textContent = newName;
                        document.getElementById('questUsernameDisplay').textContent = newName;
                        showMessage('Name updated!');
                    }
                });
            }
            
            // 6. EXPORT BUTTON
            const exportBtn = document.getElementById('exportTableBtn');
            if (exportBtn) {
                exportBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    if (currentRows.length === 0) {
                        showMessage('No table to export!', false);
                        return;
                    }
                    
                    showMessage('Table exported! (demo)');
                });
            }
            
            // 7. LOGOUT BUTTON
            const logoutBtn = document.getElementById('logoutBtn');
            if (logoutBtn) {
                logoutBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    isLoggedIn = false;
                    dashboardScreen.classList.add('hidden');
                    welcomeScreen.classList.remove('hidden');
                    
                    showMessage('Logged out successfully');
                });
            }
            
            console.log('All event listeners attached');
        });
    </script>
</body>
</html>